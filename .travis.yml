language: objective-c
branches:
  only:
  - master
notifications:
  email: false
before_install:
- SIMULATOR_ID=$(xcrun instruments -s | grep -o "iPhone 7 (10.0) \[.*\]" | grep -o "\[.*\]" | sed "s/^\[\(.*\)\]$/\1/")
- echo "Prelaunching iOS simulator with UDID $SIMULATOR_ID"
- open -a "simulator" --args -CurrentDeviceUDID $SIMULATOR_ID
- gem update bundler
install:
- bundle install
script:
- xcodebuild clean build test -project SymondsStudentApp.xcodeproj -scheme SymondsStudentApp -sdk iphonesimulator ONLY_ACTIVE_ARCH=NO | xcpretty && exit ${PIPESTATUS[0]}
env:
  global:
    secure: LCOsx6e70Z7aAKDKH9El7NDcCf/QzD3bqH6G3mv51v/RiF3PXpBedJyziUthVf+pDopjvRMPkcPcEDy4i1uaB6Vy+1O8m7cug12PayrB15/SkDmA3nIsvSyy3SXVpSxiVFgUr5oa1h0GxMxmYg/4ChXau06YsH2aJnZLnq9ThLVkTvwEybOEXFbHbqbCMNmmviuUdO7ZZpVB7waSmMyX4x6j7ua2acmZfBnJP3XQGiPO42kz7282asqqzEHM/06fKvLHa5F738PpvquJTKEsmeEBv8Aw1niI5AU/m1pfUzPxwbcKpuFdT8Sir6CzCPy82sSpTj1pceTmqVIrbBIiIX1Oxc5kXVH1RNVzfzR9IK16ngxhc43oGQk/Mb/eqrvQagz6LqGKq0CAuLnhTynZHgOJ2DdbpI0ZL3w+ADPoVKvGiODz//JGnJOzo9mWxzCQIwcZ1TIIkVUAvKSw0diZY09TH6y0F7aj7rrlNuMZGLHp+FvS47B6lQz1D6Z9TLBTo1MlpwUPS5SOrPnurswZz8xOJC2UQNl+IJVhRWplyFp48+pcUVQI6tax/lmrJBYmaWrfXn3aWpXbot992vck34dNhx2vBsbKylfE3gni+ekE1YVNS6cjOB4ya6JgtNQb+V0/A61/nG2lUzdJbokwxb7QOexTgd/SSwuTEU8iHFc=
